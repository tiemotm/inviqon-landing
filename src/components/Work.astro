---
import { Image } from "astro:assets";
import { work } from "../lib/work";
---

<section class="relative" id="work">
  <div class="mx-auto max-w-6xl px-5">
    <div class="py-16 md:py-24">
      <div class="mx-auto max-w-3xl text-center">
        <p class="reveal text-xs tracking-[0.24em] text-white/55">SELECTED WORK</p>
        <h2 class="reveal reveal-2 mt-5 text-3xl font-semibold tracking-tight text-white/95 md:text-5xl">
          A small selection of our <span class="accent">work</span>.
        </h2>
        <p class="reveal reveal-3 mx-auto mt-6 max-w-2xl text-base leading-relaxed text-white/65 md:text-lg">
          Product builds, internal platforms, and automation systems — presented as preview cases.
        </p>
      </div>

      <div class="reveal reveal-4 mt-12 grid gap-5 md:grid-cols-2">
        {work.map((w) => (
          <a
            href={w.website}
            target="_blank"
            data-work-open
            data-slug={w.slug}
            class="group relative overflow-hidden rounded-3xl glass p-0 transition will-change-transform
                  hover:-translate-y-1 hover:shadow-[0_30px_90px_rgba(0,0,0,0.65)]
                  focus:outline-none focus:ring-2 focus:ring-white/15"
            aria-label={`Open ${w.name} preview`}
          >
            {/* Gradient backdrop */}
            <div class={`absolute inset-0 bg-gradient-to-br ${w.coverGradient}`} aria-hidden="true"></div>
            <div class="absolute inset-0 bg-black/35" aria-hidden="true"></div>

            {/* Content */}
            <div class="relative p-6 md:p-7">
              <div class="flex items-start justify-between gap-4">
                <div>
                  <p class="text-xs tracking-[0.18em] uppercase text-white/60">Case preview</p>
                  <h3 class="mt-2 text-xl font-semibold tracking-tight text-white/95">{w.name}</h3>
                  <p class="mt-2 text-sm leading-relaxed text-white/70">{w.tagline}</p>
                </div>

                <span class="shrink-0 rounded-full px-2.5 py-1 text-[11px] font-semibold ring-1 ring-white/10 bg-white/10 text-white/75">
                  {w.status}
                </span>
              </div>

              {/* Screenshot */}
              <div class="mt-6 rounded-2xl bg-black/25 ring-1 ring-white/10 p-3">
                <div class="overflow-hidden rounded-xl">
                  {w.coverImage ? (
                    <Image
                      src={w.coverImage}
                      alt={`${w.name} screenshot`}
                      class="w-full object-cover transition duration-500 ease-out group-hover:scale-[1.02]"
                      loading="lazy"
                    />
                  ) : (
                    <div class="relative aspect-[16/9] w-full rounded-xl bg-white/5 ring-1 ring-white/10 overflow-hidden">
                      <div class="absolute inset-0 bg-gradient-to-br from-white/10 via-transparent to-transparent"></div>
                      <div class="absolute inset-0 bg-noise opacity-20"></div>
                      <div class="absolute bottom-3 left-3 rounded-lg bg-black/35 px-3 py-2 text-xs text-white/70 ring-1 ring-white/10">
                        Screenshot coming soon
                      </div>
                    </div>
                  )}
                </div>
              </div>

              <div class="mt-5 flex items-center justify-between">
                <div class="flex flex-wrap gap-2">
                  {w.stack.slice(0, 3).map((t) => (
                    <span class="rounded-full bg-white/10 px-2.5 py-1 text-[11px] text-white/70 ring-1 ring-white/10">
                      {t}
                    </span>
                  ))}
                </div>
              </div>
            </div>
          </a>
        ))}
      </div>

      <div class="mx-auto mt-12 h-px w-24 bg-gradient-to-r from-transparent via-white/20 to-transparent"></div>
<!-- 
      <div class="mt-8 text-center">
        <a
          href="/work"
          class="inline-flex items-center gap-2 text-sm font-medium text-white/70 transition hover:text-white"
        >
          View all work <span aria-hidden="true">→</span>
        </a>
      </div> -->
    </div>
  </div>
</section>